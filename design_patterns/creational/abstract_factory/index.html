<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abstract Factory Pattern</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3b82f6; /* Vibrant blue */
            --primary-dark: #2563eb;
            --primary-light: #60a5fa;
            --secondary-color: #10b981; /* Green */
            --secondary-dark: #059669;
            --accent-color: #8b5cf6; /* Purple */
            --accent-color-good: #059669; /* Green for good examples */
            --accent-color-bad: #ef4444; /* Red for bad examples */
            --text-color: #e2e8f0;
            --text-muted: #94a3b8;
            --bg-color: #0f172a; /* Dark blue background */
            --bg-light: #1e293b;
            --bg-lighter: #334155;
            --bg-card: #1e293b;
            --border-color: #334155;
            --code-bg: #0f172a;
            --code-text: #e2e8f0;
            --heading-font: 'Poppins', sans-serif;
            --body-font: 'Inter', sans-serif;
            --border-radius: 8px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
            --glow: 0 0 15px rgba(59, 130, 246, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--body-font);
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--bg-color);
        }

        /* Hero Section */
        .hero {
            position: relative;
            min-height: 40vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            overflow: hidden;
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 100%);
            padding: 3rem 1rem;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 1500"><rect fill="%23000000" width="2000" height="1500"/><defs><circle stroke="%23222" vector-effect="non-scaling-stroke" id="a" fill="none" stroke-width="5" r="315"/></defs><g transform="translate(1000 750)"><use stroke="%233b82f6" href="%23a" transform="rotate(60 0 0) scale(0.4 0.4)"/><use stroke="%233b82f6" href="%23a" transform="rotate(120 0 0) scale(0.5 0.5)"/><use stroke="%233b82f6" href="%23a" transform="rotate(180 0 0) scale(0.6 0.6)"/><use stroke="%233b82f6" href="%23a" transform="rotate(240 0 0) scale(0.7 0.7)"/><use stroke="%233b82f6" href="%23a" transform="rotate(300 0 0) scale(0.8 0.8)"/></g></svg>');
            background-size: cover;
            opacity: 0.1;
            animation: pulse 15s ease-in-out infinite alternate;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.1; }
            50% { transform: scale(1.05); opacity: 0.15; }
            100% { transform: scale(1); opacity: 0.1; }
        }

        .hero-content {
            position: relative;
            z-index: 10;
            max-width: 800px;
        }

        .hero h1 {
            font-family: var(--heading-font);
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(59, 130, 246, 0.5);
        }

        .hero p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Shapes animation */
        .shapes {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
        }

        .shape {
            position: absolute;
            opacity: 0.2;
            animation: float 15s infinite linear;
        }

        .shape-1 {
            top: 20%;
            left: 10%;
            width: 60px;
            height: 60px;
            border-radius: 41% 59% 37% 63% / 44% 67% 33% 56%;
            background-color: #10b981;
            animation-duration: 25s;
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.4);
        }

        .shape-2 {
            top: 60%;
            right: 15%;
            width: 80px;
            height: 80px;
            border-radius: 73% 27% 59% 41% / 57% 43% 57% 43%;
            background-color: #8b5cf6;
            animation-duration: 30s;
            animation-delay: 2s;
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.4);
        }

        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(10px, 15px) rotate(90deg);
            }
            50% {
                transform: translate(5px, -10px) rotate(180deg);
            }
            75% {
                transform: translate(-10px, 5px) rotate(270deg);
            }
            100% {
                transform: translate(0, 0) rotate(360deg);
            }
        }

        /* Main Content */
        .main-content {
            position: relative;
            margin-top: -50px;
            padding-bottom: 4rem;
        }

        .container {
            width: 90%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 3rem;
            background-color: var(--bg-light);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
        }

        /* Back link */
        .back-link {
            display: inline-flex;
            align-items: center;
            margin-bottom: 2rem;
            color: var(--primary-light);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }
        
        .back-link:hover {
            color: var(--primary-color);
            text-shadow: 0 0 8px rgba(59, 130, 246, 0.5);
        }

        .back-link svg {
            margin-right: 0.5rem;
        }

        /* Typography */
        h1, h2, h3 {
            font-family: var(--heading-font);
            color: var(--text-color);
        }

        h1.page-title {
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 2rem;
            position: relative;
            padding-bottom: 1rem;
        }

        h1.page-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 600;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            color: var(--primary-light);
        }

        h3 {
            font-size: 1.4rem;
            font-weight: 500;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        p, li {
            margin-bottom: 1.5rem;
            color: var(--text-muted);
            font-size: 1.05rem;
            line-height: 1.8;
        }

        ul, ol {
            padding-left: 1.5rem;
            margin-bottom: 2rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        strong {
            color: var(--text-color);
            font-weight: 600;
        }

        /* Code styling */
        code {
            background-color: var(--code-bg);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
            color: #f87171;
            border: 1px solid var(--border-color);
        }

        pre {
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            overflow-x: auto;
            margin: 2rem 0;
            font-size: 0.9rem;
            line-height: 1.6;
            border: 1px solid var(--border-color);
        }

        pre code {
            background: none;
            padding: 0;
            color: inherit;
            font-size: inherit;
            border: none;
        }

        /* Examples */
        .example {
            border: 1px solid var(--border-color);
            padding: 2rem;
            margin: 2.5rem 0;
            border-radius: var(--border-radius);
            background-color: var(--bg-light);
            box-shadow: var(--shadow-sm);
        }

        .visualization {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            overflow-x: auto;
            padding: 1rem;
        }

        .visualization svg {
            max-width: 100%;
        }
        
        /* Interactive Demo */
        .interactive-demo {
            background-color: var(--bg-lighter);
            padding: 2rem;
            margin: 3rem 0;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .interactive-demo h3 {
            margin-top: 0;
            color: var(--primary-light);
        }

        /* Form elements */
        label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        input, select, button {
            font-family: var(--body-font);
            font-size: 1rem;
            padding: 0.75rem 1rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            margin-bottom: 1rem;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
        }

        button:hover {
            background-color: var(--primary-dark);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        }

        button:active {
            transform: scale(0.98);
        }
        
        .output {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            min-height: 60px;
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            white-space: pre-wrap;
            margin-top: 1.5rem;
            color: var(--text-color);
        }

        /* Abstract Factory specific styles */
        .factory-demo-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .furniture-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .furniture-item {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            min-width: 250px;
            flex: 1;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .furniture-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .furniture-name {
            font-size: 1.25rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        .furniture-description {
            color: var(--text-muted);
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        .furniture-feature {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .furniture-feature-icon {
            margin-right: 0.5rem;
            color: var(--secondary-color);
        }

        .modern-icon {
            color: var(--primary-color);
        }

        .victorian-icon {
            color: var(--secondary-color);
        }

        .artdeco-icon {
            color: var(--accent-color);
        }
        
        /* Footer */
        footer {
            background-color: var(--bg-color);
            color: white;
            padding: 3rem 0;
            text-align: center;
            margin-top: 4rem;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .footer-content p {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero">
        <div class="shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
        </div>
        <div class="hero-content">
            <h1>Abstract Factory Pattern</h1>
            <p>Provide an interface for creating families of related or dependent objects without specifying their concrete classes</p>
        </div>
    </section>

    <div class="main-content">
        <div class="container">
            <a href="../../../index.html" class="back-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Back to Overview
            </a>

            <h1 class="page-title">Abstract Factory Pattern</h1>

            <p>The <strong>Abstract Factory Pattern</strong> is a creational design pattern that provides an interface for creating families of related or dependent objects without specifying their concrete classes. It's particularly useful when your code needs to work with various families of related products, but you don't want it to depend on the concrete classes of those products.</p>

            <h2>Problem</h2>
            <p>Imagine you're creating a UI toolkit that needs to work across multiple operating systems. Each operating system requires different UI components (buttons, checkboxes, etc.) with their own look and feel. You want to ensure that the UI components match the operating system style, but you don't want your code tightly coupled to specific UI component classes.</p>
            
            <p>Or consider a furniture shop that sells furniture sets. You want to ensure that the pieces of furniture you create match each other. You don't want to create a colonial-style sofa with a modern chair or table.</p>

            <div class="visualization">
                <svg width="900" height="550" viewBox="0 0 900 550">
                    <!-- Background -->
                    <rect x="0" y="0" width="900" height="550" fill="transparent" />
                    
                    <!-- Abstract Factory -->
                    <rect x="350" y="30" width="200" height="60" rx="5" fill="#3b82f6" stroke="#fff" stroke-width="2" stroke-dasharray="5,5" />
                    <text x="450" y="65" font-family="sans-serif" font-size="16" text-anchor="middle" fill="white">AbstractFactory</text>
                    
                    <!-- Factory Methods -->
                    <rect x="350" y="90" width="200" height="30" rx="5" fill="#334155" />
                    <text x="450" y="110" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">createProductA()</text>
                    
                    <rect x="350" y="120" width="200" height="30" rx="5" fill="#334155" />
                    <text x="450" y="140" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">createProductB()</text>
                    
                    <!-- Concrete Factories -->
                    <rect x="200" y="200" width="200" height="60" rx="5" fill="#10b981" />
                    <text x="300" y="235" font-family="sans-serif" font-size="16" text-anchor="middle" fill="white">ConcreteFactory1</text>
                    
                    <rect x="500" y="200" width="200" height="60" rx="5" fill="#10b981" />
                    <text x="600" y="235" font-family="sans-serif" font-size="16" text-anchor="middle" fill="white">ConcreteFactory2</text>
                    
                    <!-- Factory Method Implementations -->
                    <rect x="200" y="260" width="200" height="30" rx="5" fill="#334155" />
                    <text x="300" y="280" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">createProductA()</text>
                    
                    <rect x="200" y="290" width="200" height="30" rx="5" fill="#334155" />
                    <text x="300" y="310" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">createProductB()</text>
                    
                    <rect x="500" y="260" width="200" height="30" rx="5" fill="#334155" />
                    <text x="600" y="280" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">createProductA()</text>
                    
                    <rect x="500" y="290" width="200" height="30" rx="5" fill="#334155" />
                    <text x="600" y="310" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">createProductB()</text>
                    
                    <!-- Abstract Products -->
                    <rect x="200" y="380" width="200" height="60" rx="5" fill="#8b5cf6" stroke="#fff" stroke-width="2" stroke-dasharray="5,5" />
                    <text x="300" y="415" font-family="sans-serif" font-size="16" text-anchor="middle" fill="white">AbstractProductA</text>
                    
                    <rect x="500" y="380" width="200" height="60" rx="5" fill="#8b5cf6" stroke="#fff" stroke-width="2" stroke-dasharray="5,5" />
                    <text x="600" y="415" font-family="sans-serif" font-size="16" text-anchor="middle" fill="white">AbstractProductB</text>
                    
                    <!-- Concrete Products -->
                    <rect x="130" y="480" width="150" height="50" rx="5" fill="#ef4444" />
                    <text x="205" y="510" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">ProductA1</text>
                    
                    <rect x="320" y="480" width="150" height="50" rx="5" fill="#ef4444" />
                    <text x="395" y="510" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">ProductA2</text>
                    
                    <rect x="430" y="480" width="150" height="50" rx="5" fill="#ef4444" />
                    <text x="505" y="510" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">ProductB1</text>
                    
                    <rect x="620" y="480" width="150" height="50" rx="5" fill="#ef4444" />
                    <text x="695" y="510" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">ProductB2</text>
                    
                    <!-- Inheritance Lines -->
                    <path d="M450 150 L300 200" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" />
                    <path d="M450 150 L600 200" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" />
                    
                    <!-- Factory to Product Lines -->
                    <path d="M300 320 L205 480" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                    <path d="M300 320 L505 480" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                    <path d="M600 320 L395 480" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                    <path d="M600 320 L695 480" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                    
                    <text x="200" y="370" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#10b981">creates</text>
                    <text x="470" y="390" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#10b981">creates</text>
                    <text x="400" y="370" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#10b981">creates</text>
                    <text x="680" y="390" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#10b981">creates</text>
                    
                    <!-- Product Type Inheritance -->
                    <path d="M300 440 L205 480" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" />
                    <path d="M300 440 L395 480" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" />
                    <path d="M600 440 L505 480" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" />
                    <path d="M600 440 L695 480" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" />
                    
                    <!-- Client -->
                    <rect x="700" y="120" width="100" height="50" rx="5" fill="#0ea5e9" />
                    <text x="750" y="150" font-family="sans-serif" font-size="14" text-anchor="middle" fill="white">Client</text>
                    
                    <!-- Client relationship lines -->
                    <path d="M700 140 L550 80" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                    <path d="M700 150 L400 380" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                    <path d="M700 150 L600 380" stroke="#ffffff" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                    
                    <text x="620" y="110" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#0ea5e9">uses</text>
                    <text x="520" y="280" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#0ea5e9">uses</text>
                    <text x="620" y="280" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#0ea5e9">uses</text>
                    
                    <!-- Family Grouping 1 -->
                    <path d="M130 450 L130 550 L350 550 L350 450" stroke="#10b981" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                    <text x="240" y="540" font-family="sans-serif" font-size="14" text-anchor="middle" fill="#10b981">Product Family 1</text>
                    
                    <!-- Family Grouping 2 -->
                    <path d="M430 450 L430 550 L770 550 L770 450" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                    <text x="600" y="540" font-family="sans-serif" font-size="14" text-anchor="middle" fill="#ef4444">Product Family 2</text>
                    
                    <!-- Arrowhead marker -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#ffffff" />
                        </marker>
                    </defs>
                </svg>
            </div>

            <h2>Implementation Example</h2>
            <p>Here's a basic implementation of the Abstract Factory pattern in JavaScript for UI components:</p>

            <pre><code>// Abstract Products
class Button {
    render() {
        throw new Error("Button.render() must be implemented");
    }
    
    onClick() {
        throw new Error("Button.onClick() must be implemented");
    }
}

class Checkbox {
    render() {
        throw new Error("Checkbox.render() must be implemented");
    }
    
    toggle() {
        throw new Error("Checkbox.toggle() must be implemented");
    }
}

// Concrete Products for Windows
class WindowsButton extends Button {
    render() {
        return '&lt;button class="windows-button"&gt;Windows Button&lt;/button&gt;';
    }
    
    onClick() {
        return "Windows button clicked";
    }
}

class WindowsCheckbox extends Checkbox {
    render() {
        return '&lt;div class="windows-checkbox"&gt;&lt;input type="checkbox"&gt;&lt;/div&gt;';
    }
    
    toggle() {
        return "Windows checkbox toggled";
    }
}

// Concrete Products for MacOS
class MacOSButton extends Button {
    render() {
        return '&lt;button class="macos-button"&gt;MacOS Button&lt;/button&gt;';
    }
    
    onClick() {
        return "MacOS button clicked";
    }
}

class MacOSCheckbox extends Checkbox {
    render() {
        return '&lt;div class="macos-checkbox"&gt;&lt;input type="checkbox"&gt;&lt;/div&gt;';
    }
    
    toggle() {
        return "MacOS checkbox toggled";
    }
}

// Abstract Factory
class GUIFactory {
    createButton() {
        throw new Error("GUIFactory.createButton() must be implemented");
    }
    
    createCheckbox() {
        throw new Error("GUIFactory.createCheckbox() must be implemented");
    }
}

// Concrete Factories
class WindowsFactory extends GUIFactory {
    createButton() {
        return new WindowsButton();
    }
    
    createCheckbox() {
        return new WindowsCheckbox();
    }
}

class MacOSFactory extends GUIFactory {
    createButton() {
        return new MacOSButton();
    }
    
    createCheckbox() {
        return new MacOSCheckbox();
    }
}

// Client Code
class Application {
    constructor(factory) {
        this.factory = factory;
        this.button = null;
        this.checkbox = null;
    }
    
    createUI() {
        this.button = this.factory.createButton();
        this.checkbox = this.factory.createCheckbox();
    }
    
    paint() {
        return `
            &lt;div&gt;
                ${this.button.render()}
                ${this.checkbox.render()}
            &lt;/div&gt;
        `;
    }
}

// Application configuration
function configureApplication() {
    const os = getOperatingSystem(); // This would detect the OS in a real app
    let factory;
    
    if (os === "Windows") {
        factory = new WindowsFactory();
    } else if (os === "MacOS") {
        factory = new MacOSFactory();
    } else {
        throw new Error("Unknown operating system");
    }
    
    const app = new Application(factory);
    app.createUI();
    return app;
}

// In this example, we'll just hardcode the OS
function getOperatingSystem() {
    return "Windows";
}

// Run the application
const app = configureApplication();
const ui = app.paint();</code></pre>

            <h2>Components</h2>
            <ul>
                <li><strong>Abstract Factory:</strong> Declares interface for creating abstract product objects</li>
                <li><strong>Concrete Factory:</strong> Implements the operations to create concrete product objects</li>
                <li><strong>Abstract Product:</strong> Declares an interface for a type of product object</li>
                <li><strong>Concrete Product:</strong> Defines a product object to be created by the corresponding concrete factory</li>
                <li><strong>Client:</strong> Uses only interfaces declared by Abstract Factory and Abstract Product classes</li>
            </ul>

            <h2>When to Use</h2>
            <ul>
                <li>When a system needs to be independent from how its products are created, composed, and represented</li>
                <li>When a system should be configured with one of multiple families of products</li>
                <li>When a family of related product objects is designed to be used together, and you need to enforce this constraint</li>
                <li>When you want to provide a library of products, and you want to reveal just their interfaces, not their implementations</li>
            </ul>

            <h2>Benefits</h2>
            <ul>
                <li>Isolates concrete classes, as the factory encapsulates the responsibility of creating product objects</li>
                <li>Makes exchanging product families easy, as the concrete factory can be changed at runtime</li>
                <li>Promotes consistency among products, as objects within a family are designed to work together</li>
                <li>Follows the Open/Closed Principle: you can introduce new variants of products without breaking existing client code</li>
            </ul>

            <h2>Real-World Uses</h2>
            <ul>
                <li>UI libraries that need to support multiple look-and-feel standards</li>
                <li>Code that must work across multiple database types or platforms</li>
                <li>Frameworks that allow plug-in components with different implementations</li>
                <li>Graphics rendering engines that need to support different rendering modes</li>
                <li>Cross-platform applications that need to adapt to different operating systems</li>
            </ul>

            <div class="interactive-demo">
                <h3>Interactive Demo: Furniture Factory</h3>
                <p>This demo demonstrates how the Abstract Factory pattern allows you to create families of related objects. Select a furniture style to see how different furniture pieces are created that match the same style.</p>
                
                <div class="factory-demo-container">
                    <div class="form-group">
                        <label for="style-selector">Select Furniture Style:</label>
                        <select id="style-selector">
                            <option value="modern">Modern</option>
                            <option value="victorian">Victorian</option>
                            <option value="artdeco">Art Deco</option>
                        </select>
                        <button id="create-button">Create Furniture Set</button>
                    </div>
                    
                    <div class="furniture-container" id="furniture-container">
                        <!-- Furniture items will be rendered here -->
                    </div>
                    
                    <div class="output" id="factory-output">// Abstract Factory demonstration log will appear here</div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Design Patterns Interactive Guide</p>
        </div>
    </footer>

    <script>
        // Abstract Products
        class Chair {
            constructor(name, description, features) {
                this.name = name;
                this.description = description;
                this.features = features || [];
            }
            
            render() {
                throw new Error("Chair.render() must be implemented");
            }
        }
        
        class Sofa {
            constructor(name, description, features) {
                this.name = name;
                this.description = description;
                this.features = features || [];
            }
            
            render() {
                throw new Error("Sofa.render() must be implemented");
            }
        }
        
        class CoffeeTable {
            constructor(name, description, features) {
                this.name = name;
                this.description = description;
                this.features = features || [];
            }
            
            render() {
                throw new Error("CoffeeTable.render() must be implemented");
            }
        }
        
        // Concrete Products - Modern Style
        class ModernChair extends Chair {
            render() {
                return `
                    <div class="furniture-name">${this.name}</div>
                    <div class="furniture-description">${this.description}</div>
                    ${this.renderFeatures()}
                `;
            }
            
            renderFeatures() {
                return this.features.map(feature => 
                    `<div class="furniture-feature">
                        <span class="furniture-feature-icon">‚úì</span>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }
        }
        
        class ModernSofa extends Sofa {
            render() {
                return `
                    <div class="furniture-name">${this.name}</div>
                    <div class="furniture-description">${this.description}</div>
                    ${this.renderFeatures()}
                `;
            }
            
            renderFeatures() {
                return this.features.map(feature => 
                    `<div class="furniture-feature">
                        <span class="furniture-feature-icon">‚úì</span>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }
        }
        
        class ModernCoffeeTable extends CoffeeTable {
            render() {
                return `
                    <div class="furniture-name">${this.name}</div>
                    <div class="furniture-description">${this.description}</div>
                    ${this.renderFeatures()}
                `;
            }
            
            renderFeatures() {
                return this.features.map(feature => 
                    `<div class="furniture-feature">
                        <span class="furniture-feature-icon">‚úì</span>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }
        }
        
        // Concrete Products - Victorian Style
        class VictorianChair extends Chair {
            render() {
                return `
                    <div class="furniture-name">${this.name}</div>
                    <div class="furniture-description">${this.description}</div>
                    ${this.renderFeatures()}
                `;
            }
            
            renderFeatures() {
                return this.features.map(feature => 
                    `<div class="furniture-feature">
                        <span class="furniture-feature-icon">‚úì</span>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }
        }
        
        class VictorianSofa extends Sofa {
            render() {
                return `
                    <div class="furniture-name">${this.name}</div>
                    <div class="furniture-description">${this.description}</div>
                    ${this.renderFeatures()}
                `;
            }
            
            renderFeatures() {
                return this.features.map(feature => 
                    `<div class="furniture-feature">
                        <span class="furniture-feature-icon">‚úì</span>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }
        }
        
        class VictorianCoffeeTable extends CoffeeTable {
            render() {
                return `
                    <div class="furniture-name">${this.name}</div>
                    <div class="furniture-description">${this.description}</div>
                    ${this.renderFeatures()}
                `;
            }
            
            renderFeatures() {
                return this.features.map(feature => 
                    `<div class="furniture-feature">
                        <span class="furniture-feature-icon">‚úì</span>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }
        }
        
        // Concrete Products - Art Deco Style
        class ArtDecoChair extends Chair {
            render() {
                return `
                    <div class="furniture-name">${this.name}</div>
                    <div class="furniture-description">${this.description}</div>
                    ${this.renderFeatures()}
                `;
            }
            
            renderFeatures() {
                return this.features.map(feature => 
                    `<div class="furniture-feature">
                        <span class="furniture-feature-icon">‚úì</span>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }
        }
        
        class ArtDecoSofa extends Sofa {
            render() {
                return `
                    <div class="furniture-name">${this.name}</div>
                    <div class="furniture-description">${this.description}</div>
                    ${this.renderFeatures()}
                `;
            }
            
            renderFeatures() {
                return this.features.map(feature => 
                    `<div class="furniture-feature">
                        <span class="furniture-feature-icon">‚úì</span>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }
        }
        
        class ArtDecoCoffeeTable extends CoffeeTable {
            render() {
                return `
                    <div class="furniture-name">${this.name}</div>
                    <div class="furniture-description">${this.description}</div>
                    ${this.renderFeatures()}
                `;
            }
            
            renderFeatures() {
                return this.features.map(feature => 
                    `<div class="furniture-feature">
                        <span class="furniture-feature-icon">‚úì</span>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }
        }
        
        // Abstract Factory
        class FurnitureFactory {
            createChair() {
                throw new Error("FurnitureFactory.createChair() must be implemented");
            }
            
            createSofa() {
                throw new Error("FurnitureFactory.createSofa() must be implemented");
            }
            
            createCoffeeTable() {
                throw new Error("FurnitureFactory.createCoffeeTable() must be implemented");
            }
            
            createFurnitureSet() {
                return [
                    this.createChair(),
                    this.createSofa(),
                    this.createCoffeeTable()
                ];
            }
        }
        
        // Concrete Factories
        class ModernFurnitureFactory extends FurnitureFactory {
            createChair() {
                return new ModernChair(
                    "Modern Chair",
                    "Minimalist chair with clean lines and functional design",
                    ["Simple geometric form", "Metal or molded plastic", "Minimal cushioning", "Ergonomic design"]
                );
            }
            
            createSofa() {
                return new ModernSofa(
                    "Modern Sofa",
                    "Sleek sofa with straight lines and neutral colors",
                    ["Low profile", "Chromed metal legs", "Microfiber or leather upholstery", "Modular design"]
                );
            }
            
            createCoffeeTable() {
                return new ModernCoffeeTable(
                    "Modern Coffee Table",
                    "Functional coffee table with minimalist aesthetic",
                    ["Glass or engineered wood top", "Simple geometric base", "Clean lines", "Storage functionality"]
                );
            }
        }
        
        class VictorianFurnitureFactory extends FurnitureFactory {
            createChair() {
                return new VictorianChair(
                    "Victorian Chair",
                    "Ornate chair with elaborate carvings and tufted upholstery",
                    ["Mahogany wood frame", "Cabriole legs", "Button-tufted upholstery", "Ornate detailing"]
                );
            }
            
            createSofa() {
                return new VictorianSofa(
                    "Victorian Sofa",
                    "Elegant sofa with curved arms and decorative wood trim",
                    ["Rolled arms", "Deep button tufting", "Carved wood details", "Velvet or damask upholstery"]
                );
            }
            
            createCoffeeTable() {
                return new VictorianCoffeeTable(
                    "Victorian Coffee Table",
                    "Traditional coffee table with intricate carvings",
                    ["Solid wood construction", "Claw-and-ball feet", "Marble or wood top", "Scrolled details"]
                );
            }
        }
        
        class ArtDecoFurnitureFactory extends FurnitureFactory {
            createChair() {
                return new ArtDecoChair(
                    "Art Deco Chair",
                    "Bold geometric chair with luxurious finishes",
                    ["Bold curves", "Lacquered wood", "Geometric patterns", "Metallic accents"]
                );
            }
            
            createSofa() {
                return new ArtDecoSofa(
                    "Art Deco Sofa",
                    "Statement sofa with curved forms and rich materials",
                    ["Curved silhouette", "Rich fabrics", "Contrasting materials", "Symmetrical design"]
                );
            }
            
            createCoffeeTable() {
                return new ArtDecoCoffeeTable(
                    "Art Deco Coffee Table",
                    "Striking coffee table with geometric shapes and exotic materials",
                    ["Exotic wood veneer", "Mirrored surfaces", "Brass or chrome details", "Stepped design elements"]
                );
            }
        }
        
        // Client Code - Interactive Demo
        document.addEventListener('DOMContentLoaded', function() {
            const styleSelector = document.getElementById('style-selector');
            const createButton = document.getElementById('create-button');
            const furnitureContainer = document.getElementById('furniture-container');
            const outputElement = document.getElementById('factory-output');
            
            // Create furniture set based on selected style
            createButton.addEventListener('click', function() {
                const style = styleSelector.value;
                let factory;
                
                // Factory selection
                switch(style) {
                    case 'modern':
                        factory = new ModernFurnitureFactory();
                        logOperation("Creating furniture using ModernFurnitureFactory");
                        break;
                    case 'victorian':
                        factory = new VictorianFurnitureFactory();
                        logOperation("Creating furniture using VictorianFurnitureFactory");
                        break;
                    case 'artdeco':
                        factory = new ArtDecoFurnitureFactory();
                        logOperation("Creating furniture using ArtDecoFurnitureFactory");
                        break;
                    default:
                        logOperation("Error: Unknown furniture style");
                        return;
                }
                
                // Create and render furniture set
                const furnitureSet = factory.createFurnitureSet();
                
                // Clear previous furniture
                furnitureContainer.innerHTML = '';
                
                // Render furniture items
                furnitureSet.forEach((item, index) => {
                    const furnitureCard = document.createElement('div');
                    furnitureCard.className = 'furniture-item';
                    
                    let iconClass;
                    switch(style) {
                        case 'modern': iconClass = 'modern-icon'; break;
                        case 'victorian': iconClass = 'victorian-icon'; break;
                        case 'artdeco': iconClass = 'artdeco-icon'; break;
                    }
                    
                    let icon;
                    switch(index) {
                        case 0: icon = 'ü™ë'; break; // Chair
                        case 1: icon = 'üõãÔ∏è'; break; // Sofa
                        case 2: icon = 'üìã'; break; // Coffee Table
                    }
                    
                    furnitureCard.innerHTML = `
                        <div class="furniture-icon ${iconClass}">${icon}</div>
                        ${item.render()}
                    `;
                    
                    furnitureContainer.appendChild(furnitureCard);
                    logOperation(`Created ${item.name}`);
                });
                
                logOperation(`Completed ${style} furniture set`);
            });
            
            // Log operations
            function logOperation(message) {
                const timestamp = new Date().toLocaleTimeString();
                outputElement.textContent += `[${timestamp}] ${message}\n`;
                outputElement.scrollTop = outputElement.scrollHeight;
            }
            
            // Initialize with default values
            logOperation("Abstract Factory demo initialized. Select a furniture style and click 'Create Furniture Set'.");
        });
    </script>
</body>
</html> 